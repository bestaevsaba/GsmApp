# Содержание

1. [Технологии](#технологии)  
2. [Установка](#установка)  
3. [Использование Makefile](#использование-makefile)  
4. [API](#api)  
5. [Создание базы данных](#создание-базы-данных)

----------------------------------------------------------------------------------------------------------------------------------

# 1.Технологии

- Go 1.21+
- MySQL 8.x
- Docker & Docker Compose
- Zap (Structured Logging)

----------------------------------------------------------------------------------------------------------------------------------

# 2.Установка

1. Установите Docker и Docker Compose  
2. Отредактируйте файл `dbconfig/config.json` для настройки подключения  
3. Запустите проект: 
``` bash
make up
```

----------------------------------------------------------------------------------------------------------------------------------

# 3.Ипсользование Makefile

## Установка 
sudo apt install make

## Доступные команды

| Команда        | Описание                                              |
|----------------|-------------------------------------------------------|
| `make up`      | Собрать и запустить контейнеры в фоне                 |
| `make down`    | Остановить и удалить контейнеры, сеть и тома          |
| `make restart` | Перезапустить все контейнеры                          |
| `make build`   | Только пересобрать Docker-образы                      |
| `make logs`    | Показать логи контейнеров в реальном времени          |
| `make ps`      | Показать список контейнеров                           |
| `make shell`   | Открыть bash‑сессию внутри контейнера `api`           |

----------------------------------------------------------------------------------------------------------------------------------

# 4. API

## URL:

``` bash
POST http://localhost:8080/gsm
```

## Тело запроса (JSON):

``` json
{
    "name": "Device"
}
```

## Ответ (JSON):

``` json
{
    "code": 0,
    "message": "Такая запись уже существует"
}
```

## Коды ошибок:
0 - Успешно / уже существует.
1 - Ошибка при добавлении записи.

----------------------------------------------------------------------------------------------------------------------------------

# 5.Создание БД MySQL.

``` sql
CREATE DATABASE IF NOT EXISTS mydb;
USE mydb;

CREATE TABLE IF NOT EXISTS gsm_data (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL UNIQUE
);
```